<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Services - Profile - Greia</title>
<link rel="icon" type="image/png" href="../assets/greia (4).png"/>
<link href="../css/profile.css" rel="stylesheet"/>
<link href="../css/profile-nav.css" rel="stylesheet"/>
<link href="../css/main.css" rel="stylesheet"/>
<link href="../css/global-nav.css" rel="stylesheet"/>
<link href="../css/footer.css" rel="stylesheet"/>
<script src="../scripts/main.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places"></script>
<script src="https://js.stripe.com/v3/"></script>
<script>
// API Configuration
const API_BASE_URL = window.API_BASE_URL || 'https://api.d4rent.ie';
const token = localStorage.getItem('token');
let currentUser = null;

// Stripe configuration
const stripe = Stripe('pk_test_51OvCexP5gP5gUQw1DlmT4VjZhp7VbP3NkE4vKWXwC6SfGAMmhKNO6qS6VcfQ2QvhTxPqKyIlQ9J5n9zI5QS9pYdF00w1234567'); // Replace with your actual publishable key
let elements;
let paymentElement;

// Service listing fee (in cents) - ‚Ç¨10 per week
const SERVICE_LISTING_FEE = 1000; // ‚Ç¨10.00 per week

async function loadServices() {
  const servicesList = document.getElementById('services-list');
  const template = document.getElementById('service-card-template');
  
  try {
    const response = await fetch(`${API_BASE_URL}/api/services?user=${currentUser?.id || 'me'}`, {
      headers: { 'Authorization': 'Bearer ' + token }
    });
    
    const services = response.ok ? await response.json() : [];
    
    if (services.length === 0) {
      servicesList.innerHTML = '<p style="color: #888; text-align: center; grid-column: 1/-1;">No services listed yet.</p>';
      return;
    }

    servicesList.innerHTML = '';
    services.forEach(service => {
      const card = template.content.cloneNode(true);
      
      // Set service details
      card.querySelector('.service-photo').src = service.photo || '../assets/placeholder-service.png';
      card.querySelector('.service-photo').alt = service.name;
      card.querySelector('.service-name').textContent = service.name;
      card.querySelector('.service-category').textContent = service.category;
      card.querySelector('.service-description').textContent = service.description;
      
      // Set up action buttons
      card.querySelector('.edit-btn').onclick = () => editService(service.id);
      card.querySelector('.delete-btn').onclick = () => deleteService(service.id);
      card.querySelector('.view-btn').href = `/pages/servicePage.html?id=${service.id}`;
      
      servicesList.appendChild(card);
    });
  } catch (error) {
    console.error('Error loading services:', error);
    servicesList.innerHTML = '<p style="color: #ff1c1c; text-align: center; grid-column: 1/-1;">Error loading services. Please try again later.</p>';
  }
}

function showAddServiceForm() {
  document.getElementById('contract-modal').style.display = 'flex';
  setTimeout(() => document.getElementById('contract-modal').classList.add('show'), 10);
}

function hideServiceContract() {
  const modal = document.getElementById('contract-modal');
  modal.classList.remove('show');
  setTimeout(() => modal.style.display = 'none', 300);
}

function hideAddServiceForm() {
  const modal = document.getElementById('add-service-modal');
  modal.classList.remove('show');
  setTimeout(() => modal.style.display = 'none', 300);
}

function hidePaymentModal() {
  const modal = document.getElementById('payment-modal');
  modal.classList.remove('show');
  setTimeout(() => modal.style.display = 'none', 300);
}

function hideEditServiceForm() {
  const modal = document.getElementById('edit-service-modal');
  modal.classList.remove('show');
  setTimeout(() => modal.style.display = 'none', 300);
}

function showPaymentModal() {
  document.getElementById('payment-modal').style.display = 'flex';
  setTimeout(() => document.getElementById('payment-modal').classList.add('show'), 10);
}

function hidePaymentModal() {
  const modal = document.getElementById('payment-modal');
  modal.classList.remove('show');
  setTimeout(() => modal.style.display = 'none', 300);
}

function proceedToServiceForm() {
  const agree = document.getElementById('service-contract-agree').checked;
  const terms = document.getElementById('service-terms-confirm').checked;
  if (!agree || !terms) {
    alert('You must agree to the terms and conditions to continue.');
    return;
  }
  hideServiceContract();
  setTimeout(() => {
    document.getElementById('add-service-modal').style.display = 'flex';
    setTimeout(() => document.getElementById('add-service-modal').classList.add('show'), 10);
  }, 300);
}

// Initialize Stripe payment for service listing
async function initializeServicePayment() {
  try {
    const response = await fetch(`${API_BASE_URL}/api/create-service-payment-intent`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer ' + token
      },
      body: JSON.stringify({
        amount: SERVICE_LISTING_FEE,
        currency: 'eur',
        description: 'Service Listing Fee - ‚Ç¨10 per week'
      })
    });

    if (!response.ok) {
      throw new Error('Failed to create payment intent');
    }

    const { client_secret } = await response.json();
    
    // Initialize Stripe Elements
    elements = stripe.elements({ clientSecret: client_secret });
    paymentElement = elements.create('payment');
    paymentElement.mount('#payment-element');

    return client_secret;
  } catch (error) {
    console.error('Error initializing payment:', error);
    alert('Failed to initialize payment. Please try again.');
    return null;
  }
}

// Process service listing payment
async function processServicePayment(serviceData) {
  try {
    const { error, paymentIntent } = await stripe.confirmPayment({
      elements,
      confirmParams: {
        return_url: window.location.href
      },
      redirect: 'if_required'
    });

    if (error) {
      throw new Error(error.message);
    }

    if (paymentIntent && paymentIntent.status === 'succeeded') {
      // Payment successful, now submit the service
      return await submitServiceWithPayment(serviceData, paymentIntent.id);
    } else {
      throw new Error('Payment was not completed successfully');
    }
  } catch (error) {
    console.error('Payment error:', error);
    alert('Payment failed: ' + error.message);
    return false;
  }
}

// Submit service after successful payment
async function submitServiceWithPayment(serviceData, paymentIntentId) {
  try {
    serviceData.append('payment_intent_id', paymentIntentId);
    serviceData.append('listing_fee_paid', 'true');
    serviceData.append('listing_duration', '1_week');

    const response = await fetch(`${API_BASE_URL}/api/services`, {
      method: 'POST',
      headers: {
        'Authorization': 'Bearer ' + token
      },
      body: serviceData
    });

    if (!response.ok) {
      throw new Error('Failed to create service');
    }

    alert('Service listing payment successful! Your service has been submitted for review.');
    hidePaymentModal();
    hideAddServiceForm();
    loadServices(); // Reload services list
    return true;
  } catch (error) {
    console.error('Error submitting service:', error);
    alert('Service submission failed: ' + error.message);
    return false;
  }
}

function editService(serviceId) {
  // Load service data and show edit modal
  document.getElementById('edit-service-modal').style.display = 'flex';
  setTimeout(() => document.getElementById('edit-service-modal').classList.add('show'), 10);
}

// Load services when page loads
document.addEventListener('DOMContentLoaded', function() {
  loadServices();
  
  // Handle service form submission
  const serviceForm = document.getElementById('add-service-form');
  if (serviceForm) {
    serviceForm.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Collect form data
      const formData = new FormData(this);
      
      // Show payment modal and initialize payment
      hideAddServiceForm();
      showPaymentModal();
      
      const clientSecret = await initializeServicePayment();
      if (!clientSecret) {
        hidePaymentModal();
        return;
      }
      
      // Store form data for later use
      window.pendingServiceData = formData;
    });
  }
});

// Handle payment form submission
async function handlePaymentSubmission() {
  if (!window.pendingServiceData) {
    alert('No service data found. Please try again.');
    return;
  }

  const submitButton = document.querySelector('#payment-modal .submit-btn');
  const originalText = submitButton.textContent;
  submitButton.textContent = 'Processing...';
  submitButton.disabled = true;

  try {
    const success = await processServicePayment(window.pendingServiceData);
    if (success) {
      window.pendingServiceData = null; // Clear stored data
    }
  } catch (error) {
    console.error('Payment submission error:', error);
    alert('Payment failed. Please try again.');
  } finally {
    submitButton.textContent = originalText;
    submitButton.disabled = false;
  }
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
  if (e.target.classList.contains('modal-overlay')) {
    if (e.target.id === 'contract-modal') {
      hideServiceContract();
    } else if (e.target.id === 'add-service-modal') {
      hideAddServiceForm();
    } else if (e.target.id === 'edit-service-modal') {
      hideEditServiceForm();
    } else if (e.target.id === 'payment-modal') {
      hidePaymentModal();
    }
  }
});

// Prevent modal from closing when clicking inside modal content
document.querySelectorAll('.modal-content').forEach(modal => {
  modal.addEventListener('click', function(e) {
    e.stopPropagation();
  });
});
</script>
<style>
/* Navigation Bar */
.navbar {
  background: linear-gradient(90deg, #1c0bff, #00c6d4, #1c0bff);
  background-size: 200% 100%;
  padding: 0.5rem 2rem;
  position: relative;
  box-shadow: 0 8px 20px rgba(28,11,255,0.15);
  margin-bottom: 2rem;
  animation: gradientFlow 15s linear infinite;
}

@keyframes gradientFlow {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 200% 50%;
  }
}

/* Services and Form Styling */
:root {
  --primary-color: #1c0bff;
  --accent-color: #00c6d4;
  --success-color: #00d4a0;
  --danger-color: #ff3366;
  --background-color: #f8f9fa;
  --text-color: #2c3e50;
  --border-color: #dee2e6;
}

.services-container {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

#services-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
  margin: 20px auto 40px;
}

.service-card {
  border: 1px solid var(--border-color);
  border-radius: 12px;
  overflow: hidden;
  background: white;
  box-shadow: 0 4px 15px rgba(28,11,255,0.1);
  transition: transform 0.2s ease;
}

.service-card:hover {
  transform: translateY(-2px);
}

.service-photo {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

.service-content {
  padding: 20px;
}

.service-name {
  color: var(--primary-color);
  font-size: 1.25rem;
  margin: 0 0 8px;
}

.service-category {
  color: var(--accent-color);
  font-size: 0.9rem;
  margin-bottom: 12px;
}

.service-actions {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  padding: 0 20px 20px;
}

.service-actions button,
.service-actions a {
  padding: 8px 16px;
  border-radius: 6px;
  border: none;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
  color: white;
}

.view-btn {
  background-color: var(--primary-color);
}

.view-btn:hover {
  background-color: #1509cc;
}

.edit-btn {
  background-color: var(--accent-color);
}

.edit-btn:hover {
  background-color: #00a3b0;
}

.delete-btn {
  background-color: var(--danger-color);
}

.delete-btn:hover {
  background-color: #e61a4d;
}

/* Modal Styling */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 1000;
  display: none;
  justify-content: center;
  align-items: center;
}

.modal-overlay.show {
  display: flex;
}

.modal-content {
  background: white;
  padding: 30px;
  border-radius: 16px;
  max-width: 800px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
  transform: scale(0.8);
  transition: transform 0.3s ease;
}

.modal-overlay.show .modal-content {
  transform: scale(1);
}

.modal-close {
  position: absolute;
  top: 15px;
  right: 20px;
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #666;
  padding: 5px;
  border-radius: 50%;
  width: 35px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-close:hover {
  background: #f0f0f0;
  color: #333;
}

/* Payment Modal Specific Styling */
#payment-modal .modal-content {
  max-width: 500px;
}

#payment-element {
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  padding: 16px;
  background: #fff;
}

#payment-messages {
  font-size: 14px;
  margin-top: 8px;
}

.payment-fee-display {
  text-align: center;
  background: linear-gradient(135deg, rgba(78, 255, 146, 0.1), rgba(78, 255, 146, 0.05));
  border: 2px solid rgba(78, 255, 146, 0.3);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.payment-fee-amount {
  font-size: 2.5rem;
  font-weight: bold;
  color: rgb(78, 255, 146);
  margin: 8px 0;
  text-shadow: 0 0 10px rgba(78, 255, 146, 0.3);
}

#service-contract-form,
#add-service-form,
#service-edit-form {
  background: transparent;
  padding: 0;
  border-radius: 0;
  box-shadow: none;
  max-width: none;
  margin: 0;
  position: static;
  z-index: auto;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  color: var(--primary-color);
  font-weight: 500;
}

.form-group input,
.form-group textarea,
.form-group select {
  width: 100%;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  font-size: 1rem;
  transition: border-color 0.2s ease;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
  outline: none;
  border-color: var(--accent-color);
}

.form-actions {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  margin-top: 20px;
}

.form-actions button {
  padding: 10px 20px;
  border-radius: 6px;
  border: none;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.2s ease;
  color: white;
}

.submit-btn {
  background: rgb(78, 255, 146);
  color: black;
  box-shadow: 0 0 15px rgba(78, 255, 146, 0.6), inset 0 0 15px rgba(78, 255, 146, 0.1);
  border: 2px solid rgb(78, 255, 146);
  font-weight: 600;
}

.submit-btn:hover {
  background: rgb(78, 255, 146);
  box-shadow: 0 0 20px rgba(78, 255, 146, 0.8), inset 0 0 20px rgba(78, 255, 146, 0.2);
  transform: translateY(-1px);
}

.cancel-btn {
  background-color: #95a5a6;
}

.cancel-btn:hover {
  background-color: #7f8c8d;
}

.btn-primary {
  background: rgb(78, 255, 146);
  color: black;
  border: none;
  padding: 10px 20px;
  border-radius: 6px;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 0 15px rgba(78, 255, 146, 0.6), inset 0 0 15px rgba(78, 255, 146, 0.1);
  border: 2px solid rgb(78, 255, 146);
  font-weight: 600;
}

.btn-primary:hover {
  background: rgb(78, 255, 146);
  box-shadow: 0 0 20px rgba(78, 255, 146, 0.8), inset 0 0 20px rgba(78, 255, 146, 0.2);
  transform: translateY(-1px);
}

.btn-secondary {
  background-color: #95a5a6;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 6px;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-secondary:hover {
  background-color: #7f8c8d;
}

/* Footer Fix - Full Width Layout */
footer {
  background: linear-gradient(90deg, #1c0bff, #00c6d4, #1c0bff);
  background-size: 200% 100%;
  color: white;
  width: 100%;
  margin-top: auto;
  padding: 0;
  animation: gradientFlow 15s linear infinite;
}

.footer-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 40px 2rem;
}

.footer-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 40px;
  margin-bottom: 40px;
}

.footer-heading {
  color: white;
  margin-bottom: 20px;
  font-size: 1.2rem;
  font-weight: 600;
}

.footer-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-list li {
  margin-bottom: 10px;
}

.footer-list a {
  color: rgba(255, 255, 255, 0.8);
  text-decoration: none;
  transition: color 0.2s ease;
}

.footer-list a:hover {
  color: white;
}

.footer-description {
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.6;
  margin-bottom: 20px;
}

.footer-logo {
  height: 100px;
  width: auto;
  margin-bottom: 15px;
}

.social-links {
  display: flex;
  gap: 15px;
}

.social-links a {
  color: rgba(255, 255, 255, 0.8);
  font-size: 1.2rem;
  transition: color 0.2s ease;
}

.social-links a:hover {
  color: white;
}

.footer-bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 20px;
  border-top: 1px solid rgba(255,255,255,0.1);
  flex-wrap: wrap;
  gap: 20px;
}

.footer-bottom p {
  margin: 0;
  color: rgba(255, 255, 255, 0.8);
}

.footer-links {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
}

.footer-links a {
  color: rgba(255, 255, 255, 0.8);
  text-decoration: none;
  transition: color 0.2s ease;
}

.footer-links a:hover {
  color: white;
}

.contact-info i {
  margin-right: 8px;
  color: #00c6d4;
}

.navbar-thirds {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1400px;
  margin: 0 auto;
}

.navbar-third {
  flex: 1;
  display: flex;
  align-items: center;
}

.navbar-third.left {
  justify-content: flex-start;
}

.navbar-third.center {
  justify-content: center;
}

.navbar-third.right {
  justify-content: flex-end;
}

.nav-links {
  list-style: none;
  display: flex;
  gap: 2rem;
  margin: 0;
  padding: 0;
}

.nav-links li {
  position: relative;
}

.nav-links a {
  color: white;
  text-decoration: none;
  font-weight: 500;
  font-size: 1.05rem;
  transition: all 0.2s;
  display: block;
  padding: 0.5rem 0;
}

.nav-links a:hover {
  color: rgba(255,255,255,0.9);
  text-shadow: 0 0 10px rgba(255,255,255,0.3);
}

.logo img {
  max-width: 100%;
  height: auto;
  max-height: 140px;
}

.dropdown-menu {
  display: none;
  position: absolute;
  background: white;
  min-width: 200px;
  box-shadow: 0 8px 16px rgba(28,11,255,0.2);
  border-radius: 8px;
  padding: 0.5rem 0;
  z-index: 1000;
  list-style: none;
  border: 1px solid rgba(255,255,255,0.1);
}

.dropdown:hover .dropdown-menu {
  display: block;
}

.dropdown-menu a {
  padding: 0.5rem 1rem;
  font-size: 0.95rem;
  color: #1c0bff !important;
}

.dropdown-menu a:hover {
  background: rgba(28,11,255,0.05);
  color: #1c0bff !important;
  text-shadow: none !important;
}

.fancy-underline {
  position: relative;
}

.fancy-underline::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: #1c0bff;
  transition: width 0.3s ease;
}

.fancy-underline:hover::after {
  width: 100%;
}

/* Navigation styles */
.profile-sidebar {
  margin: 0;
  min-width: 220px;
  background: #fff;
  border-radius: 18px 0 0 18px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.08);
  padding: 32px 0;
  height: 100%;
  position: relative;
}

.sidebar-nav {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.nav-link {
  display: block;
  padding: 14px 32px;
  color: #222;
  text-decoration: none;
  font-size: 1.08em;
  font-weight: 500;
  letter-spacing: 0.01em;
  transition: all 0.2s ease-out;
  position: relative;
}

.nav-link:hover {
  color: #1c0bff;
  background: rgba(28,11,255,0.05);
}

.nav-link.active {
  color: #1c0bff;
  background: rgba(28,11,255,0.08);
}

.nav-link.active::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 4px;
  background: #1c0bff;
}

/* Layout */
.profile-flex-layout {
  display: flex;
  align-items: flex-start;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  min-height: 80vh;
}

.profile-content-card {
  flex: 1;
  background: #fff;
  border-radius: 0 18px 18px 0;
  box-shadow: 0 4px 24px rgba(0,0,0,0.08);
  padding: 40px 32px;
  min-height: 80vh;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .navbar-thirds {
    flex-direction: column;
    gap: 1rem;
  }
  
  .nav-links {
    flex-direction: column;
    gap: 1rem;
  }
  
  .dropdown-menu {
    position: static;
    box-shadow: none;
    padding-left: 1rem;
  }
  
  .logo img {
    max-height: 80px;
  }
  
  .profile-flex-layout {
    flex-direction: column;
  }
  
  .profile-sidebar {
    width: 100%;
    min-width: unset;
    border-radius: 18px 18px 0 0;
    padding: 16px 0;
  }
  
  .sidebar-nav {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    padding: 0 16px;
  }
  
  .nav-link {
    padding: 10px 16px;
  }
  
  .profile-content-card {
    border-radius: 0 0 18px 18px;
    padding: 24px 16px;
  }
}
</style>
</head>
<body>
<!-- Navigation Bar -->
<nav class="navbar">
  <div class="navbar-thirds">
    <div class="navbar-third left">
      <ul class="nav-links left-links" style="position:relative; z-index:100;">
        <li class="dropdown" style="position:relative;">
          <a href="/pages/buy.html" style="position:relative; z-index:101;">Property</a>
          <ul class="dropdown-menu" style="top:100%; left:0; margin-top:0; padding-top:0; border-top:0;">
            <li><a href="/pages/buy.html">Buy</a></li>
            <li><a href="/pages/rent.html">Rent</a></li>
            <li><a href="/pages/commercial.html">Commercial</a></li>
            <li><a href="/pages/buy.html">Apartments</a></li>
            <li><a href="/pages/sell.html">Sell</a></li>
            <li><a href="/pages/valuations.html">Valuations</a></li>
            <li><a href="/pages/buy.html">New Homes</a></li>
          </ul>
        </li>

        <li class="dropdown" style="position:relative;">
          <a href="/pages/agents.html" style="color: rgb(78, 255, 146); position:relative; z-index:101;" class="referral-dropdown-toggle">Connect</a>
          <ul class="dropdown-menu" style="top:100%; left:0; margin-top:0; padding-top:0; border-top:0;">
            <li><a href="/pages/agents.html">Find an Agent</a></li>
            <li class="nested-dropdown" style="position: relative;">
              <a href="/pages/agents.html" class="referral-dropdown-toggle" tabindex="0" aria-haspopup="true" aria-expanded="false">Referral Agents ‚ñ∏</a>
              <ul class="dropdown-menu referral-dropdown" style="display:none; position: absolute; left: 100%; top: 0; background: white; list-style:none; padding:10px; border:1px solid #ccc; min-width: 220px; z-index: 2000;">
                <li><a href="/pages/agents.html?subtype=luxury">Luxury Home Agents</a></li>
                <li><a href="/pages/agents.html?subtype=lettings">Lettings Agents</a></li>
                <li><a href="/pages/agents.html?subtype=newhomes">New Homes Agents</a></li>
                <li><a href="/pages/agents.html?subtype=commercial">Commercial Agents</a></li>
                <li><a href="/pages/agents.html?subtype=residential">Residential Agents</a></li>
                <li><a href="/pages/agents.html?subtype=developer">Developer Agents</a></li>
                <li><a href="/pages/agents.html?subtype=timeshare">Timeshare Agents</a></li>
              </ul>
            </li>
            <li><a href="/pages/coaching.html">Coaching</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <div class="navbar-third center">
      <div class="logo">
        <a href="/index.html">
          <img alt="Logo" src="../assets/greia (4).png" style="height: auto; max-height: 140px;"/>
        </a>
      </div>
    </div>
    <div class="navbar-third right">
      <ul class="nav-links right-links">
        <li>
          <a href="/pages/services.html" class="fancy-underline">Our Services</a>
        </li>
        <li>
          <a href="/pages/concierge.html" class="fancy-underline">Concierge</a>
        </li>
        <li class="dropdown" id="auth-menu">
          <a href="/pages/login.html" id="login-btn">Log In</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="profile-flex-layout">
  <!-- Sidebar Navigation -->
  <aside class="profile-sidebar">
    <nav class="sidebar-nav">
      <a href="./profile.html" class="nav-link">Profile</a>
      <a href="./profile-properties.html" class="nav-link">Properties</a>
      <a href="./profile-ads.html" class="nav-link">Advertisements</a>
      <a href="./profile-services.html" class="nav-link active">Services</a>
      <a href="./profile-inbox.html" class="nav-link">Inbox</a>
      <a href="./profile-saved.html" class="nav-link">Saved Items</a>
      <a href="./analytics.html" class="nav-link">Analytics</a>
      <a href="./profile-subscriptions,html" class="nav-link">Packages & Memberships</a>
      <a href="./profile-settings.html" class="nav-link">Settings</a>
      <a href="./admindashboard.html" class="nav-link" id="nav-admin-dashboard" style="display:none;">Admin Dashboard</a>
      <a href="../auth/logout.html" class="nav-link" id="nav-logout">Logout</a>
    </nav>
  </aside>

  <!-- Main Content Area -->
  <section class="profile-content-card">
    <div class="profile-section-content">
      <h2 style="margin-bottom: 24px;">Your Services</h2>

      <!-- Feature Boxes -->
      <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 32px;">
        <div style="background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
          <h3 style="margin: 0 0 8px; color: #1c0bff; font-size: 16px;">Active Services</h3>
          <div style="font-size: 24px; font-weight: 600;">0</div>
          <div style="color: #666; font-size: 14px; margin-top: 4px;">Currently Listed</div>
        </div>
        <a href="./profile-inbox.html" style="text-decoration: none;">
          <div style="background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 4px 15px rgba(0,0,0,0.12)'" onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 2px 12px rgba(0,0,0,0.08)'">
            <h3 style="margin: 0 0 8px; color: #1c0bff; font-size: 16px;">New Inquiries</h3>
            <div style="font-size: 24px; font-weight: 600;">0</div>
            <div style="color: #666; font-size: 14px; margin-top: 4px;">View in Inbox</div>
          </div>
        </a>
        <div style="background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
          <h3 style="margin: 0 0 8px; color: #1c0bff; font-size: 16px;">Average Rating</h3>
          <div style="font-size: 24px; font-weight: 600;">‚≠ê 0.0</div>
          <div style="color: #666; font-size: 14px; margin-top: 4px;">From 0 Reviews</div>
        </div>
        <div style="background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
          <h3 style="margin: 0 0 8px; color: #1c0bff; font-size: 16px;">Service Areas</h3>
          <div style="font-size: 24px; font-weight: 600;">0</div>
          <div style="color: #666; font-size: 14px; margin-top: 4px;">Locations Covered</div>
        </div>
        <div style="background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
          <h3 style="margin: 0 0 8px; color: #1c0bff; font-size: 16px;">Revenue</h3>
          <div style="font-size: 24px; font-weight: 600;">‚Ç¨0</div>
          <div style="color: #666; font-size: 14px; margin-top: 4px;">This Month</div>
        </div>
        <div style="background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
          <h3 style="margin: 0 0 8px; color: #1c0bff; font-size: 16px;">Completion Rate</h3>
          <div style="font-size: 24px; font-weight: 600;">0%</div>
          <div style="color: #666; font-size: 14px; margin-top: 4px;">Service Success</div>
        </div>
      </div>


      <div style="display: flex; justify-content: flex-end; margin: 0 32px 24px 0;">
        <button onclick="showAddServiceForm()" style="background: #00ffa2; color: rgb(0, 0, 0); border: none; padding: 12px 32px; border-radius: 25px; cursor: pointer; font-weight: 500; transition: all 0.4s ease; box-shadow: 0 4px 15px rgba(0,255,162,0.4); text-shadow: 0 1px 2px rgba(0,255,162,0.1); position: relative; overflow: hidden;" onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 20px rgba(0,255,162,0.5)'" onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 4px 15px rgba(0,255,162,0.4)'">Add New Service</button>
      </div>

      <div class="profile-card-grid" id="user-services-grid">
        <!-- Search & Filters (Services) -->
        <div class="search-filter-bar" style="display:flex;align-items:center;gap:12px;margin-bottom:24px;background:#f4f8fc;padding:16px 20px;border-radius:10px;box-shadow:0 2px 8px #e0e7ef;white-space:nowrap;overflow-x:auto;">
          <input type="text" id="service-search-keyword" placeholder="üîç Search services" style="width:200px;padding:8px 12px;border-radius:6px;border:1px solid #cbd5e1;">
          <input type="text" id="service-search-location" placeholder="Location" style="width:150px;padding:8px 12px;border-radius:6px;border:1px solid #cbd5e1;">
          <select id="service-search-type" style="width:140px;padding:8px 12px;border-radius:6px;border:1px solid #cbd5e1;">
            <option value="">Type</option>
            <option value="cleaning">Cleaning</option>
            <option value="maintenance">Maintenance</option>
            <option value="gardening">Gardening</option>
            <option value="renovation">Renovation</option>
            <option value="plumbing">Plumbing</option>
            <option value="electrical">Electrical</option>
            <option value="painting">Painting</option>
            <option value="other">Other</option>
          </select>
          <select id="service-search-availability" style="width:140px;padding:8px 12px;border-radius:6px;border:1px solid #cbd5e1;">
            <option value="">Availability</option>
            <option value="immediate">Immediate</option>
            <option value="scheduled">Scheduled</option>
            <option value="flexible">Flexible</option>
          </select>
          <div style="display:flex;align-items:center;gap:8px;">
            <input type="number" id="service-search-price-min" placeholder="Min ‚Ç¨" style="width:80px;padding:8px 12px;border-radius:6px;border:1px solid #cbd5e1;">
            <span style="color:#666;">-</span>
            <input type="number" id="service-search-price-max" placeholder="Max ‚Ç¨" style="width:80px;padding:8px 12px;border-radius:6px;border:1px solid #cbd5e1;">
          </div>
          <button type="button" onclick="searchServices()" style="background:#00ffa2;color:black;border:none;padding:8px 24px;border-radius:6px;cursor:pointer;white-space:nowrap;transition:all 0.4s ease;box-shadow:0 4px 15px rgba(0,255,162,0.4);">Search</button>
        </div>

        <!-- Services List -->
        <div id="services-list" style="margin-bottom: 24px; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
          <p style="color: #888; text-align: center; grid-column: 1/-1;">No services listed yet.</p>
        </div>

        <!-- Service Card Template (Hidden) -->
        <template id="service-card-template">
          <div class="service-card" style="background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
            <img class="service-photo" style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px; margin-bottom: 16px;" src="" alt="Service Photo">
            <h3 class="service-name" style="margin: 0 0 8px; color: #1c0bff; font-size: 18px;"></h3>
            <p class="service-category" style="color: #666; margin: 0 0 8px;"></p>
            <p class="service-description" style="margin: 0 0 16px; display: -webkit-box; -webkit-line-clamp: 3; line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;"></p>
            <div class="service-actions" style="display: flex; gap: 8px; justify-content: flex-end;">
              <button class="edit-btn" style="background: #1c0bff; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Edit</button>
              <button class="delete-btn" style="background: #ff1c1c; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Delete</button>
              <a class="view-btn" href="" style="background: #00ffa2; color: black; border: none; padding: 8px 16px; border-radius: 6px; text-decoration: none; cursor: pointer;">View</a>
            </div>
          </div>
        </template>

        <!-- Map Integration -->
        <div id="service-map" style="width:100%;height:400px;border-radius:10px;margin-bottom:24px;box-shadow:0 4px 12px rgba(0,0,0,0.1);"></div>
      </div>

      <script>
        let map;
        let markers = [];

        function initMap() {
          // Center on Dublin, Ireland
          const dublin = { lat: 53.3498, lng: -6.2603 };
          map = new google.maps.Map(document.getElementById("service-map"), {
            zoom: 13,
            center: dublin,
            styles: [
              {
                featureType: "all",
                elementType: "geometry",
                stylers: [{ color: "#f8f9fa" }]
              },
              {
                featureType: "water",
                elementType: "geometry",
                stylers: [{ color: "#e3f2fd" }]
              },
              {
                featureType: "poi",
                elementType: "labels.text.fill",
                stylers: [{ color: "#1c0bff" }]
              },
              {
                featureType: "poi.park",
                elementType: "geometry",
                stylers: [{ color: "#e8f5e9" }]
              },
              {
                featureType: "road",
                elementType: "geometry",
                stylers: [{ color: "#ffffff" }]
              }
            ],
            mapTypeControl: true,
            mapTypeControlOptions: {
              style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
            },
            streetViewControl: true,
            fullscreenControl: true
          });

          // Add search box
          const input = document.getElementById('service-search-location');
          const searchBox = new google.maps.places.SearchBox(input);

          map.addListener('bounds_changed', () => {
            searchBox.setBounds(map.getBounds());
          });

          searchBox.addListener('places_changed', () => {
            const places = searchBox.getPlaces();
            if (places.length === 0) return;

            const bounds = new google.maps.LatLngBounds();
            places.forEach(place => {
              if (!place.geometry || !place.geometry.location) return;

              if (place.geometry.viewport) {
                bounds.union(place.geometry.viewport);
              } else {
                bounds.extend(place.geometry.location);
              }
            });
            map.fitBounds(bounds);
          });
        }

        document.addEventListener('DOMContentLoaded', function() {
          initMap();
        });
      </script>

  <!-- Contract Modal -->
  <div id="contract-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" onclick="hideServiceContract()">&times;</button>
      <div id="service-contract-form">
        <h2>Service Provider Agreement</h2>
        <div style="max-height: 300px; overflow-y: auto; margin: 20px 0; padding: 20px; background: #f8f9fa; border-radius: 8px;">
          <h3>Terms and Conditions</h3>
          <p>By providing services through our platform, you agree to:</p>
          <ul>
            <li>Maintain professional standards at all times</li>
            <li>Provide accurate and truthful information about your services</li>
            <li>Respond to customer inquiries in a timely manner</li>
            <li>Complete all agreed-upon work to the best of your ability</li>
            <li>Maintain proper insurance and licensing as required</li>
          </ul>
        </div>
        <div style="display:flex;flex-direction:column;gap:16px;margin-bottom:20px;">
          <label style="display:flex;align-items:center;gap:8px;"><input type="checkbox" id="service-contract-agree"> I agree to the service listing terms and conditions</label>
          <label style="display:flex;align-items:center;gap:8px;"><input type="checkbox" id="service-terms-confirm"> I understand that a ‚Ç¨10 weekly listing fee applies</label>
          <label style="display:flex;align-items:center;gap:8px;"><input type="checkbox" id="service-license-confirm"> I confirm I have all required licenses and certifications for my service</label>
          <label style="display:flex;align-items:center;gap:8px;"><input type="checkbox" id="service-insurance-confirm"> I confirm I have appropriate insurance coverage</label>
        </div>
        <div class="form-actions">
          <button class="cancel-btn" onclick="hideServiceContract()">Cancel</button>
          <button class="submit-btn" onclick="proceedToServiceForm()">I Agree</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Service Modal -->
  <div id="add-service-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" onclick="hideAddServiceForm()">&times;</button>
      <div id="add-service-form">
        <h2>Add New Service</h2>
        <form id="serviceForm">
          <!-- Basic Information -->
          <div class="form-group">
            <label for="serviceName">Service Name:</label>
            <input type="text" id="serviceName" name="name" required placeholder="e.g. Professional Property Cleaning">
          </div>

          <div class="form-group">
            <label for="serviceCategory">Category:</label>
            <select id="serviceCategory" name="category" required>
              <option value="">Select a category</option>
              <option value="Property Management">Property Management</option>
              <option value="Maintenance & Repairs">Maintenance & Repairs</option>
              <option value="Cleaning Services">Cleaning Services</option>
              <option value="Real Estate Services">Real Estate Services</option>
              <option value="Landscaping">Landscaping</option>
              <option value="Interior Design">Interior Design</option>
              <option value="Home Staging">Home Staging</option>
              <option value="Security">Security</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="serviceDescription">Description:</label>
            <textarea id="serviceDescription" name="description" required placeholder="Describe your service in detail"></textarea>
          </div>

          <!-- Pricing -->
          <div class="form-group">
            <label for="priceType">Price Type:</label>
            <select id="priceType" name="price_type" required>
              <option value="">Select price type</option>
              <option value="Fixed">Fixed</option>
              <option value="Hourly">Hourly</option>
              <option value="Per Visit">Per Visit</option>
              <option value="Quote Required">Quote Required</option>
            </select>
          </div>

          <div class="form-group">
            <label for="basePrice">Base Price (‚Ç¨):</label>
            <input type="number" id="basePrice" name="base_price" min="0" step="0.01" placeholder="0.00">
          </div>

          <!-- Contact Information -->
          <div class="form-group">
            <label for="contactPhone">Contact Phone:</label>
            <input type="tel" id="contactPhone" name="phone" required placeholder="+353">
          </div>

          <div class="form-group">
            <label for="contactEmail">Contact Email:</label>
            <input type="email" id="contactEmail" name="email" required placeholder="contact@example.com">
          </div>

          <!-- Service Areas -->
          <div class="form-group">
            <label for="serviceAreas">Service Areas:</label>
            <textarea id="serviceAreas" name="service_areas" placeholder="List areas where you provide service (e.g. Dublin City, South Dublin, Wicklow)"></textarea>
          </div>

          <!-- Additional Information -->
          <div class="form-group">
            <label for="qualifications">Certifications & Qualifications:</label>
            <textarea id="qualifications" name="certifications" placeholder="List relevant certifications and qualifications"></textarea>
          </div>

          <div class="form-group">
            <label for="servicePhoto">Service Photo:</label>
            <input type="file" id="servicePhoto" name="photo" accept="image/*">
            <small style="color: #666; display: block; margin-top: 4px;">Upload a photo representing your service (max size 5MB)</small>
          </div>

          <div class="form-actions">
            <button type="button" class="cancel-btn" onclick="hideAddServiceForm()">Cancel</button>
            <button type="submit" class="submit-btn">Add Service</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Edit Service Modal -->
  <div id="edit-service-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" onclick="hideEditServiceForm()">&times;</button>
      <div id="service-edit-form">
        <h2>Edit Service</h2>
        <form id="editServiceForm">
          <input type="hidden" id="edit-service-id" name="id">
          <!-- Same fields as Add Service Form -->
          <div class="form-group">
            <label for="editServiceName">Service Name:</label>
            <input type="text" id="editServiceName" name="name" required>
          </div>

          <div class="form-group">
            <label for="editServiceCategory">Category:</label>
            <select id="editServiceCategory" name="category" required>
              <option value="">Select a category</option>
              <option value="Property Management">Property Management</option>
              <option value="Maintenance & Repairs">Maintenance & Repairs</option>
              <option value="Cleaning Services">Cleaning Services</option>
              <option value="Real Estate Services">Real Estate Services</option>
              <option value="Landscaping">Landscaping</option>
              <option value="Interior Design">Interior Design</option>
              <option value="Home Staging">Home Staging</option>
              <option value="Security">Security</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="form-actions">
            <button type="button" class="cancel-btn" onclick="hideEditServiceForm()">Cancel</button>
            <button type="submit" class="submit-btn">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Add Service Form (Step 2) -->
  <form id="add-service-form" class="profile-content-card" style="display:none;">
    <div style="background:#fff;padding:32px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,0.08);">
      <h3 style="margin:0 0 24px;color:#1c0bff;font-size:20px;">Add Service</h3>
      
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
        <label>Service Name: 
          <input name="name" required type="text" placeholder="e.g. Professional Property Cleaning"/>
        </label>
        <label>Category: 
          <select name="category" required>
            <option value="">Select Category</option>
            <option value="Property Management">Property Management</option>
            <option value="Maintenance & Repairs">Maintenance & Repairs</option>
            <option value="Cleaning Services">Cleaning Services</option>
            <option value="Real Estate Services">Real Estate Services</option>
            <option value="Landscaping">Landscaping</option>
            <option value="Interior Design">Interior Design</option>
            <option value="Home Staging">Home Staging</option>
            <option value="Security">Security</option>
            <option value="Other">Other</option>
          </select>
        </label>
        <label>Address:
          <input name="address" type="text" placeholder="Service Address"/>
        </label>
        <label>Insurance Status:
          <select name="insurance">
            <option value="">Select Insurance Status</option>
            <option value="Full Coverage">Full Coverage</option>
            <option value="Limited Coverage">Limited Coverage</option>
            <option value="Pending">Pending</option>
            <option value="Not Required">Not Required</option>
          </select>
        </label>
        
        <label>Service Type:
          <select name="service_type" required>
            <option value="">Select Type</option>
            <option value="One-time Service">One-time Service</option>
            <option value="Recurring Service">Recurring Service</option>
            <option value="Contract Service">Contract Service</option>
            <option value="Emergency Service">Emergency Service</option>
            <option value="Consultation">Consultation</option>
          </select>
        </label>
        <label>Availability:
          <select name="availability" required>
            <option value="">Select Availability</option>
            <option value="Immediate">Immediate</option>
            <option value="24/7">24/7</option>
            <option value="Weekdays">Weekdays Only</option>
            <option value="Weekends">Weekends Only</option>
            <option value="By Appointment">By Appointment</option>
          </select>
        </label>

        <label>Experience (Years):
          <input name="experience_years" type="number" min="0" max="100" placeholder="e.g. 5"/>
        </label>
        <label>Response Time:
          <select name="response_time">
            <option value="">Select Response Time</option>
            <option value="Within 1 hour">Within 1 hour</option>
            <option value="Same day">Same day</option>
            <option value="Within 24 hours">Within 24 hours</option>
            <option value="Within 48 hours">Within 48 hours</option>
          </select>
        </label>
      </div>

      <div style="margin-top: 16px;">
        <label>Description: 
          <textarea name="description" required rows="4" placeholder="Describe your service in detail, including specialties and expertise..."></textarea>
        </label>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 16px;">
        <label>Price Structure:
          <select name="price_structure" required>
            <option value="">Select Price Structure</option>
            <option value="Fixed Rate">Fixed Rate</option>
            <option value="Hourly Rate">Hourly Rate</option>
            <option value="Project Based">Project Based</option>
            <option value="Quote Required">Quote Required</option>
          </select>
        </label>
        <label>Price Range:
          <input name="price_range" type="text" placeholder="e.g. ‚Ç¨50-100/hour or Fixed ‚Ç¨500"/>
        </label>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 16px;">
        <label>Service Areas:
          <textarea name="service_areas" rows="2" placeholder="List areas where you provide service (e.g. Dublin City, South Dublin, Wicklow)"></textarea>
        </label>
        <label>Certifications:
          <textarea name="certifications" rows="2" placeholder="List relevant certifications and qualifications"></textarea>
        </label>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-top: 16px;">
        <label>Website:
          <input name="website" type="url" placeholder="https://"/>
        </label>
        <label>Phone:
          <input name="phone" type="tel" placeholder="+353"/>
        </label>
        <label>Email:
          <input name="email" type="email" placeholder="contact@example.com"/>
        </label>
      </div>

      <div style="margin-top: 16px;">
        <label>Social Links:
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
            <input name="social_links_facebook" type="url" placeholder="Facebook URL"/>
            <input name="social_links_twitter" type="url" placeholder="Twitter URL"/>
            <input name="social_links_linkedin" type="url" placeholder="LinkedIn URL"/>
            <input name="social_links_instagram" type="url" placeholder="Instagram URL"/>
          </div>
        </label>
      </div>

      <div style="margin-top: 16px;">
        <label>Tags:
          <textarea name="tags" rows="2" placeholder="Add searchable tags (comma separated)"></textarea>
          <small style="color: #666; display: block; margin-top: 4px;">E.g.: emergency service, 24/7, residential, commercial</small>
        </label>
      </div>

      <div style="margin-top: 16px;">
        <label>Service Photo: 
          <input name="photo" type="file" accept="image/*">
          <small style="color: #666; display: block; margin-top: 4px;">Upload a photo representing your service (max size 5MB)</small>
        </label>
      </div>

      <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:24px;">
        <button type="button" onclick="hideAddServiceForm()" class="btn-secondary">Cancel</button>
        <button type="submit" class="btn-primary">Submit Service</button>
      </div>
    </div>
  </form>

  <!-- Edit Service Form -->
  <form id="service-edit-form" class="profile-content-card" style="display:none;">
    <div style="background:#fff;padding:32px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,0.08);">
      <h3 style="margin:0 0 24px;color:#1c0bff;font-size:20px;">Edit Service</h3>
      <input type="hidden" id="edit-service-id" name="id">
      
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
        <label>Service Name: 
          <input id="edit-service-name" name="name" required type="text" placeholder="e.g. Professional Property Cleaning"/>
        </label>
        <label>Category: 
          <select id="edit-service-category" name="category" required>
            <option value="">Select Category</option>
            <option value="Property Management">Property Management</option>
            <option value="Maintenance & Repairs">Maintenance & Repairs</option>
            <option value="Cleaning Services">Cleaning Services</option>
            <option value="Real Estate Services">Real Estate Services</option>
            <option value="Landscaping">Landscaping</option>
            <option value="Interior Design">Interior Design</option>
            <option value="Home Staging">Home Staging</option>
            <option value="Security">Security</option>
            <option value="Other">Other</option>
          </select>
        </label>
        <label>Address:
          <input id="edit-service-address" name="address" type="text" placeholder="Service Address"/>
        </label>
        <label>Insurance Status:
          <select id="edit-service-insurance" name="insurance">
            <option value="">Select Insurance Status</option>
            <option value="Full Coverage">Full Coverage</option>
            <option value="Limited Coverage">Limited Coverage</option>
            <option value="Pending">Pending</option>
            <option value="Not Required">Not Required</option>
          </select>
        </label>
        
        <label>Service Type:
          <select id="edit-service-type" name="service_type" required>
            <option value="">Select Type</option>
            <option value="One-time Service">One-time Service</option>
            <option value="Recurring Service">Recurring Service</option>
            <option value="Contract Service">Contract Service</option>
            <option value="Emergency Service">Emergency Service</option>
            <option value="Consultation">Consultation</option>
          </select>
        </label>
        <label>Availability:
          <select id="edit-service-availability" name="availability" required>
            <option value="">Select Availability</option>
            <option value="Immediate">Immediate</option>
            <option value="24/7">24/7</option>
            <option value="Weekdays">Weekdays Only</option>
            <option value="Weekends">Weekends Only</option>
            <option value="By Appointment">By Appointment</option>
          </select>
        </label>

        <label>Experience (Years):
          <input id="edit-service-experience" name="experience_years" type="number" min="0" max="100" placeholder="e.g. 5"/>
        </label>
        <label>Response Time:
          <select id="edit-service-response" name="response_time">
            <option value="">Select Response Time</option>
            <option value="Within 1 hour">Within 1 hour</option>
            <option value="Same day">Same day</option>
            <option value="Within 24 hours">Within 24 hours</option>
            <option value="Within 48 hours">Within 48 hours</option>
          </select>
        </label>
      </div>

      <div style="margin-top: 16px;">
        <label>Description: 
          <textarea id="edit-service-description" name="description" required rows="4" placeholder="Describe your service in detail, including specialties and expertise..."></textarea>
        </label>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 16px;">
        <label>Price Structure:
          <select id="edit-service-price-structure" name="price_structure" required>
            <option value="">Select Price Structure</option>
            <option value="Fixed Rate">Fixed Rate</option>
            <option value="Hourly Rate">Hourly Rate</option>
            <option value="Project Based">Project Based</option>
            <option value="Quote Required">Quote Required</option>
          </select>
        </label>
        <label>Price Range:
          <input id="edit-service-price-range" name="price_range" type="text" placeholder="e.g. ‚Ç¨50-100/hour or Fixed ‚Ç¨500"/>
        </label>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 16px;">
        <label>Service Areas:
          <textarea id="edit-service-areas" name="service_areas" rows="2" placeholder="List areas where you provide service (e.g. Dublin City, South Dublin, Wicklow)"></textarea>
        </label>
        <label>Certifications:
          <textarea id="edit-service-certifications" name="certifications" rows="2" placeholder="List relevant certifications and qualifications"></textarea>
        </label>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-top: 16px;">
        <label>Website:
          <input id="edit-service-website" name="website" type="url" placeholder="https://"/>
        </label>
        <label>Phone:
          <input id="edit-service-phone" name="phone" type="tel" placeholder="+353"/>
        </label>
        <label>Email:
          <input id="edit-service-email" name="email" type="email" placeholder="contact@example.com"/>
        </label>
      </div>

      <div style="margin-top: 16px;">
        <label>Social Links:
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
            <input id="edit-service-social-facebook" name="social_links_facebook" type="url" placeholder="Facebook URL"/>
            <input id="edit-service-social-twitter" name="social_links_twitter" type="url" placeholder="Twitter URL"/>
            <input id="edit-service-social-linkedin" name="social_links_linkedin" type="url" placeholder="LinkedIn URL"/>
            <input id="edit-service-social-instagram" name="social_links_instagram" type="url" placeholder="Instagram URL"/>
          </div>
        </label>
      </div>

      <div style="margin-top: 16px;">
        <label>Tags:
          <textarea id="edit-service-tags" name="tags" rows="2" placeholder="Add searchable tags (comma separated)"></textarea>
          <small style="color: #666; display: block; margin-top: 4px;">E.g.: emergency service, 24/7, residential, commercial</small>
        </label>
      </div>

      <div style="margin-top: 16px;">
        <label>New Photo (leave empty to keep existing): 
          <input name="photo" type="file" accept="image/*">
          <small style="color: #666; display: block; margin-top: 4px;">Upload a new photo representing your service (max size 5MB)</small>
        </label>
      </div>

      <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:24px;">
        <button type="button" onclick="hideEditServiceForm()" class="btn-secondary">Cancel</button>
        <button type="submit" class="btn-primary">Save Changes</button>
      </div>
    </div>
  </form>

  <!-- Payment Modal -->
  <div id="payment-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" onclick="hidePaymentModal()">&times;</button>
      <div style="padding: 32px;">
        <div style="text-align: center; margin-bottom: 24px;">
          <img src="../assets/greia (4).png" alt="Greia" style="height: 60px; width: auto; margin-bottom: 8px; filter: brightness(0);">
          <h2 style="margin: 0; color: #1c0bff;">Service Listing Payment</h2>
        </div>
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 24px; text-align: center;">
          <h3 style="margin: 0 0 8px; color: #2c3e50;">Service Listing Fee</h3>
          <div style="font-size: 2rem; font-weight: bold; color: rgb(78, 255, 146); margin: 8px 0;">‚Ç¨10.00</div>
          <p style="margin: 0; color: #666; font-size: 14px;">per week</p>
          <div style="margin-top: 16px; font-size: 14px; color: #777;">
            <ul style="list-style: none; padding: 0; margin: 0;">
              <li>‚úì 7 days of premium visibility</li>
              <li>‚úì Featured in search results</li>
              <li>‚úì Professional service listing</li>
              <li>‚úì Contact form integration</li>
            </ul>
          </div>
        </div>
        
        <!-- Stripe Payment Element -->
        <div id="payment-element" style="margin-bottom: 24px;">
          <!-- Stripe Elements will create form elements here -->
        </div>
        
        <div id="payment-messages" style="color: #dc3545; margin-bottom: 16px; display: none;"></div>
        
        <div style="display: flex; gap: 12px; justify-content: flex-end;">
          <button type="button" class="cancel-btn" onclick="hidePaymentModal()">Cancel</button>
          <button type="button" class="submit-btn" onclick="handlePaymentSubmission()">Pay ‚Ç¨10 & List Service</button>
        </div>
      </div>
    </div>
  </div>
</div>
</section>
</div>

<!-- Footer -->


<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
